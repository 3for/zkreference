%%% ZKProof Community Reference
%%% Main source at https://github.com/zkpstandard/zkreference
%%% This is the main compilation file

\documentclass[11pt,letterpaper,oneside]{report}    
%using option `oneside' instead of `twoside' makes some definitions easier, although the fancyhdr options then use conditionals to define different headers between odd and even pages

\usepackage{ifthen,etoolbox,twoopt} %allows command \ifthenelse{}{}{}, \newcommandtwoopt allows commands with two optional arguments
\newcommand{\newsetbool}[2]{\newbool{#1}\setbool{#1}{#2}}
\newsetbool{boolShowFeedback}{false} % Use true to show the table of proposed contributions and changes
\ifbool{boolShowFeedback}{}{\newcommandtwoopt{\revblock}[3][][]{}} 


\input{zz-00-y01-pkgs.tex}
\input{zz-00-y02-cmds.tex}
\input{zz-00-y02-cmds-diff.tex}
\input{zz-00-y03-format.tex}
\graphicspath{{}{figs/}}

%%% Define the files with bibliographic references
\addbibresource{zz-99-biblio-19xx.bib}
\addbibresource{zz-99-biblio-200x.bib}
\addbibresource{zz-99-biblio-2010-2017.bib}
\addbibresource{zz-99-biblio-2018-2020.bib}
\addbibresource{zz-99-biblio-zkproof.bib}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\ifbool{boolShowFeedback}{\input{zzz-00-cover-annotated-changes.tex}}%
{\nolinenumbers\renewcommand{\linenumbers}{}\renewcommand{\internallinenumbers}{}\renewcommand{\setlinenumberintable}{\renewcommand{\thelinenumber}{}}}

\input{zz-00-frontmatter}

%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\thesection}{\thechapter.\arabic{mysec}}

\cleartooddpage\pagenumbering{arabic}\setcounter{page}{1}
\thispagestyle{mainmatter}\pagestyle{mainmatter}

\input{zz-01-baseline.tex}
\cleartooddpage\input{zz-02-paradigms.tex}
\cleartooddpage\input{zz-03-implem.tex}
\cleartooddpage\input{zz-04-apps.tex}


\cleartooddpage\pagestyle{references}\thispagestyle{references}
\phantomsection\chapter*{References}\addcontentsline{toc}{chapter}{References}
\label{references}{\small\printbibliography[heading=none]}


%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleartooddpage\pagestyle{appendix}\thispagestyle{appendix}

\appendix
\begingroup\setstretch{.94} %temporary tweak to allow ending in even page
\input{zz-A-abbrevs.tex}\endgroup

\cleartooddpage\thispagestyle{empty} 


%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifbool{boolShowFeedback}{
	%%% IF DECIDING TO INSERT THE TABLE OF COMMENTS
	\nolinenumbers %disables line numbering
	\input{zzz-00-insert-comments.tex}

	%Insert here the tables of review comments to be cross-referenced with the introduced changes
	\input{zzz-01-changes-to-v0.1--1-by-editors.tex}
	\input{zzz-01-changes-to-v0.1--2-by-contributors.tex}
}{}


\end{document}